(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,r){},12:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),i=r(4),c=r.n(i),s=(r(9),r(2));r(10);function l(e){var t=e;return{shipLength:e,hit:function(){t--},isSunk:function(){return t<1}}}function o(e){var t=e,r=function(){var e=[],t=[];e.length<1&&function(){for(var t=0;t<100;t++)e.push({ship:!1,hit:!1})}();var r={hit:null,idx:null};return{boardArray:e,shipArray:t,placeShip:function(r,a,n){var i=!1;if(n&&r+a%10<=10){for(var c=[],s=a;s<r+a;s++)c.push(e[s]);if(c.every((function(e){return!1===e.ship}))){i=!0;var o=l(r);t.push(o);for(var h=a;h<r+a;h++)e.splice(h,1,{currentShip:o,ship:!0,hit:!1})}}if(!n&&a+10*(r-1)<100){for(var u=[],d=a;d<=a+10*(r-1);d+=10)u.push(e[d]);if(u.every((function(e){return!1===e.ship}))){i=!0;var p=l(r);t.push(p);for(var b=a;b<=a+10*(r-1);b+=10)e.splice(b,1,{currentShip:p,ship:!0,hit:!1})}}return i},receiveAttack:function(t){!0===e[t].ship&&!1===e[t].hit?(e[t].currentShip.hit(),e[t].hit=!0,r.hit=!0,r.idx=t):!1===e[t].ship&&!1===e[t].hit&&(e[t].hit=!0,r.hit=!1,r.idx=null)},shipsSunk:function(){if(t.length>0)return t.every((function(e){return!0===e.isSunk()}))},prevAttack:r}}();function a(e){var t=Math.floor(100*Math.random()),n=Math.floor(2*Math.random());if(!r.placeShip(e,t,[!0,!1][n]))return a(e)}var n=[5,4,3,3,2];return{playerName:t,board:r,randomMove:function(){var e=function e(){var t=Math.floor(100*Math.random());return!1===r.boardArray[t].hit?t:!0===r.boardArray[t].hit?e():void 0}();r.receiveAttack(e)},shipLengths:n,randomPlacement:function(){n.forEach((function(e){a(e)}))}}}var h=r(0);var u=function(e){var t=e.player2,r=e.setPlayer2,n=e.playRound;return Object(a.useEffect)((function(){var e=Object.assign({},t);e.randomPlacement(),r(e)}),[]),Object(h.jsx)("div",{className:"board-wrapper",children:Object(h.jsx)("div",{className:"gameboard",children:t.board.boardArray.map((function(e,t){return Object(h.jsx)("div",{onClick:function(e){return n(e)},"data-index":t,"data-hit":e.hit,className:"cell ".concat(e.hit?"cell-hit":null," ").concat(e.hit?null:"cell-water"," \n\n            ").concat(e.hit&&!e.ship?"cell-water":null," \n            \n            \n            ").concat(e.hit&&e.ship?"cell-ship":null,"   "),children:e.ship?"ship":"water"})}))})})};var d=function(e){var t=e.setHorizontal,r=e.horizontal,a=e.index,n=e.player1;return Object(h.jsxs)("div",{className:"ship-placer",children:[Object(h.jsxs)("h3",{children:["Orientation: ",r?"Horizontal":"Vertical"," ",Object(h.jsx)("button",{type:"button",onClick:function(){return t(!r)},children:"Toggle"})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("h3",{children:[" Ship Length: ",n.shipLengths[a]]})})]})};var p=function(e){var t=e.player1,r=(e.setPlayer1,e.shipsPlaced),a=e.playerPlacement,n=e.horizontal,i=e.setHorizontal,c=e.index;return Object(h.jsxs)("div",{className:"player-board",children:[!r&&Object(h.jsx)(d,{setHorizontal:i,horizontal:n,index:c,player1:t}),Object(h.jsx)("div",{className:"board-wrapper",children:Object(h.jsx)("div",{className:"gameboard",children:t.board.boardArray.map((function(e,t){return Object(h.jsx)("div",{onClick:function(e){return a(e)},"data-index":t,className:"cell ".concat(e.hit?"cell-hit":null," ").concat(e.ship?"cell-ship":"cell-water")})}))})})]})};var b=function(e){var t=e.winner,r=e.gameOver,a=e.shipsPlaced;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Winner: ",t]}),Object(h.jsx)("h2",{children:r&&!a?"Place Your Ships!":!r&&a?"Attack your opponent":r&&a?"GAME OVER":null})]})};var j=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"header",children:"Battleship"})})};var f=function(){var e=Object(a.useState)(o("Player 1")),t=Object(s.a)(e,2),r=t[0],n=t[1],i=Object(a.useState)(o("Computer")),c=Object(s.a)(i,2),l=c[0],d=c[1],f=Object(a.useState)(!0),v=Object(s.a)(f,2),O=v[0],m=v[1],x=Object(a.useState)(0),y=Object(s.a)(x,2),g=y[0],S=y[1],N=Object(a.useState)(null),k=Object(s.a)(N,2),P=k[0],A=k[1],w=Object(a.useState)(!0),M=Object(s.a)(w,2),z=M[0],E=M[1],C=Object(a.useState)(!1),H=Object(s.a)(C,2),L=H[0],R=H[1];return Object(a.useEffect)((function(){r.board.shipsSunk()?(A(l.playerName),E(!0)):l.board.shipsSunk()?(A(r.playerName),E(!0)):l.board.shipsSunk()||r.board.shipsSunk()||A("No Winner yet!")}),[r,l]),Object(a.useEffect)((function(){g>4&&z&&(R(!0),E(!1))}),[g]),a.useEffect,Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{}),Object(h.jsx)(b,{winner:P,gameOver:z,shipsPlaced:L}),Object(h.jsxs)("div",{className:"gameboard-container",children:[Object(h.jsx)("div",{className:"player-board",children:Object(h.jsx)(p,{player1:r,setPlayer1:n,playerPlacement:function(e){if(!L&&z){var t=Object.assign({},r);t.board.placeShip(t.shipLengths[g],parseInt(e.target.dataset.index),O)&&(n(t),S(g+1))}},shipsPlaced:L,horizontal:O,setHorizontal:m,index:g})}),Object(h.jsx)(u,{className:"gameboard-container",player2:l,setPlayer2:d,playRound:function(e){if(!z&&"false"===e.target.dataset.hit){var t=Object.assign({},l),a=e.target.dataset.index;t.board.receiveAttack(a);var i=Object.assign({},r);i.randomMove(),d(t),n(i)}}})]}),Object(h.jsx)("button",{className:"reset-button",onClick:function(){n(o("Player 1"));var e=o("Computer");e.randomPlacement(),d(e),R(!1),E(!0),S(0),A(null)},children:"New Game"})]})};c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))},9:function(e,t,r){}},[[12,1,2]]]);
//# sourceMappingURL=main.108be17a.chunk.js.map