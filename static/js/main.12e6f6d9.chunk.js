(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(4),c=a.n(i),s=(a(9),a(2));a(10);function l(e){var t=e;return{shipLength:e,hit:function(){t--},isSunk:function(){return t<1}}}function o(e){var t=e,a=function(){var e=[],t=[];e.length<1&&function(){for(var t=0;t<100;t++)e.push({ship:!1,hit:!1})}();var a={hit:null,idx:null};return{boardArray:e,shipArray:t,placeShip:function(a,r,n){var i=!1;if(n&&a+r%10<=10){for(var c=[],s=r;s<a+r;s++)c.push(e[s]);if(c.every((function(e){return!1===e.ship}))){i=!0;var o=l(a);t.push(o);for(var h=r;h<a+r;h++)e.splice(h,1,{currentShip:o,ship:!0,hit:!1})}}if(!n&&r+10*(a-1)<100){for(var u=[],d=r;d<=r+10*(a-1);d+=10)u.push(e[d]);if(u.every((function(e){return!1===e.ship}))){i=!0;var p=l(a);t.push(p);for(var b=r;b<=r+10*(a-1);b+=10)e.splice(b,1,{currentShip:p,ship:!0,hit:!1})}}return i},receiveAttack:function(t){!0===e[t].ship&&!1===e[t].hit?(e[t].currentShip.hit(),e[t].hit=!0,a.hit=!0,a.idx=t):!1===e[t].ship&&!1===e[t].hit&&(e[t].hit=!0,a.hit=!1,a.idx=null)},shipsSunk:function(){if(t.length>0)return t.every((function(e){return!0===e.isSunk()}))},prevAttack:a}}();function r(e){var t=Math.floor(100*Math.random()),n=Math.floor(2*Math.random());if(!a.placeShip(e,t,[!0,!1][n]))return r(e)}var n=[5,4,3,3,2];return{playerName:t,board:a,randomMove:function(){var e=function e(){var t=Math.floor(100*Math.random());return!1===a.boardArray[t].hit?t:!0===a.boardArray[t].hit?e():void 0}();a.receiveAttack(e)},shipLengths:n,randomPlacement:function(){n.forEach((function(e){r(e)}))}}}var h=a(0);var u=function(e){var t=e.player2,a=e.setPlayer2,n=e.playRound;return Object(r.useEffect)((function(){var e=Object.assign({},t);e.randomPlacement(),a(e)}),[]),Object(h.jsx)("div",{className:"board-wrapper",children:Object(h.jsx)("div",{className:"gameboard",children:t.board.boardArray.map((function(e,t){return Object(h.jsx)("div",{onClick:function(e){return n(e)},"data-index":t,"data-hit":e.hit,className:"cell ".concat(e.hit?"cell-hit":null," ").concat(e.hit?null:"cell-water"," \n\n            ").concat(e.hit&&!e.ship?"cell-water":null," \n            \n            \n            ").concat(e.hit&&e.ship?"cell-ship":null,"   ")})}))})})};var d=function(e){var t=e.setHorizontal,a=e.horizontal,r=e.index,n=e.player1;return Object(h.jsxs)("div",{className:"ship-placer",children:[Object(h.jsxs)("h3",{children:["Orientation: ",a?"Horizontal":"Vertical"," ",Object(h.jsx)("button",{type:"button",onClick:function(){return t(!a)},children:"Toggle"})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("h3",{children:[" Ship Length: ",n.shipLengths[r]]})})]})};var p=function(e){var t=e.player1,a=(e.setPlayer1,e.shipsPlaced),r=e.playerPlacement,n=e.horizontal,i=e.setHorizontal,c=e.index;return Object(h.jsxs)("div",{className:"player-board",children:[!a&&Object(h.jsx)(d,{setHorizontal:i,horizontal:n,index:c,player1:t}),Object(h.jsx)("div",{className:"board-wrapper",children:Object(h.jsx)("div",{className:"gameboard",children:t.board.boardArray.map((function(e,t){return Object(h.jsx)("div",{onClick:function(e){return r(e)},"data-index":t,className:"cell ".concat(e.hit?"cell-hit":null," ").concat(e.ship?"cell-ship":"cell-water")})}))})})]})};var b=function(e){var t=e.winner,a=e.gameOver,r=e.shipsPlaced;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Winner: ",t]}),Object(h.jsx)("h2",{children:a&&!r?"Place Your Ships!":!a&&r?"Attack your opponent":a&&r?"GAME OVER":null})]})};var j=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"header",children:"Battleship"})})};var f=function(){var e=Object(r.useState)(o("Player 1")),t=Object(s.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(o("Computer")),c=Object(s.a)(i,2),l=c[0],d=c[1],f=Object(r.useState)(!0),v=Object(s.a)(f,2),O=v[0],m=v[1],x=Object(r.useState)(0),y=Object(s.a)(x,2),g=y[0],S=y[1],N=Object(r.useState)(null),k=Object(s.a)(N,2),P=k[0],A=k[1],w=Object(r.useState)(!0),M=Object(s.a)(w,2),z=M[0],E=M[1],C=Object(r.useState)(!1),H=Object(s.a)(C,2),L=H[0],R=H[1];return Object(r.useEffect)((function(){a.board.shipsSunk()?(A(l.playerName),E(!0)):l.board.shipsSunk()?(A(a.playerName),E(!0)):l.board.shipsSunk()||a.board.shipsSunk()||A("No Winner yet!")}),[a,l]),Object(r.useEffect)((function(){g>4&&z&&(R(!0),E(!1))}),[g]),r.useEffect,Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{}),Object(h.jsx)(b,{winner:P,gameOver:z,shipsPlaced:L}),Object(h.jsxs)("div",{className:"gameboard-container",children:[Object(h.jsx)("div",{className:"player-board",children:Object(h.jsx)(p,{player1:a,setPlayer1:n,playerPlacement:function(e){if(!L&&z){var t=Object.assign({},a);t.board.placeShip(t.shipLengths[g],parseInt(e.target.dataset.index),O)&&(n(t),S(g+1))}},shipsPlaced:L,horizontal:O,setHorizontal:m,index:g})}),Object(h.jsx)(u,{className:"gameboard-container",player2:l,setPlayer2:d,playRound:function(e){if(!z&&"false"===e.target.dataset.hit){var t=Object.assign({},l),r=e.target.dataset.index;t.board.receiveAttack(r);var i=Object.assign({},a);i.randomMove(),d(t),n(i)}}})]}),Object(h.jsx)("button",{className:"reset-button",onClick:function(){n(o("Player 1"));var e=o("Computer");e.randomPlacement(),d(e),R(!1),E(!0),S(0),A(null)},children:"New Game"})]})};c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))},9:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.12e6f6d9.chunk.js.map